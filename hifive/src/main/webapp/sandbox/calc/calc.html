<!doctype html>
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta charset="UTF-8">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Expires" content="-1">
		<link rel="stylesheet" href="../../release/h5.css"/>
		<script src="../../lib/jquery/jquery.js"></script>
		<script src="../../lib/jquery/plugin/jquery.blockUI.js"></script>
		<script src="../../lib/ejs/ejs.js"></script>


		<script src="h5preinit.js"></script>
		<!-- 各モジュールのソースJSを読み込む（h5.jsは必ず最初に読み込む必要がある） -->
		<script src="../../release/h5.js"></script>
		<script src="sample_logic.js"></script>
		<script src="sample_controller.js"></script>
		<script type="text/javascript">
			function dump(msg) {
				$('#ul').append('<li>' + msg + '</li>');
			}
		</script>

		<title>hifive AOP Sample</title>
	</head>
	<body>
		<div class="browserNotification">
		※ブラウザはできるだけ最新のバージョンをご利用ください。<br>
		　特に、IE6/7等の古いブラウザでは正しく動作しない場合があります。
		</div>
		<h2>hifive AOP Sample</h2>
		<div style="font-size: 16px;">
			hifiveを使ったAOPのサンプルです。<br />
			以下の順番で処理のdumpを出力します。<br />
			<ul style="list-style-type: decimal;">
				<li>Controllerのインターセプタの開始処理</li>
				<li>イベントコールバックの開始</li>
				<li>Logicのtestメソッドの開始</li>
				<li>非同期処理1を実行</li>
				<li>同期処理2の実行</li>
				<li>非同期処理3の実行</li>
				<li>Logicのtestメソッドの終了</li>
				<li>イベントコールバックの終了</li>
				<li>Controllerのインターセプタの終了処理</li>
			</ul>
		</div>

		<br />
		<div id="test">
			<input type="button" id="confirm" value="AOPの確認" />
			<div id="result"></div>
		</div>

		<h2>処理のdump</h2>
		<ul id="ul" style="list-style: none;"></ul>
	</body>
</html>
